(function(){"use strict";var e={7698:function(e,r,a){var t=a(9963),n=a(6252);const o={class:"content"};function l(e,r,a,t,l,c){const d=(0,n.up)("Header"),i=(0,n.up)("router-view"),s=(0,n.up)("Footer"),u=(0,n.up)("SuccessAddedChildren");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(d),(0,n._)("main",o,[(0,n.Wm)(i)]),(0,n.Wm)(s),(0,n.Wm)(u)],64)}var c=a(3577);const d={class:"modal__main"},i=(0,n._)("b",null,"Данные успешно добавлены!",-1);function s(e,r,a,t,o,l){return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["modal__container",[{modalActive:e.successAddedData}]])},[(0,n._)("div",d,[i,(0,n._)("div",{onClick:r[0]||(r[0]=r=>e.setSuccessAddedData(!1)),class:"closeModal"},"×")])],2)}var u=a(3907),m={data(){return{}},methods:{...(0,u.OI)({setSuccessAddedData:"formChildren/setSuccessAddedData"})},computed:{...(0,u.rn)({successAddedData:e=>e.formChildren.successAddedData})}},h=a(3744);const g=(0,h.Z)(m,[["render",s]]);var p=g,f=a.p+"img/Logo.8d2c0999.svg";const _={class:"header"},v=(0,n._)("img",{src:f,alt:""},null,-1),A={class:"navigation__header"};function C(e,r,a,t,o,l){const c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("header",_,[v,(0,n._)("nav",A,[(0,n.Wm)(c,{to:"/test-zadanie/"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Форма ")])),_:1}),(0,n.Wm)(c,{to:"/test-zadanie/Preview"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Превью ")])),_:1})])])}var w={name:"Header"};const b=(0,h.Z)(w,[["render",C]]);var P=b;const k=e=>((0,n.dD)("data-v-3f122d1c"),e=e(),(0,n.Cn)(),e),y={class:"footer"},L=k((()=>(0,n._)("div",{class:"footer__container"},[(0,n._)("p",null,"all rights reserved")],-1))),D=[L];function T(e,r,a,t,o,l){return(0,n.wg)(),(0,n.iD)("footer",y,D)}var N={};const x=(0,h.Z)(N,[["render",T],["__scopeId","data-v-3f122d1c"]]);var O=x,V={name:"App",components:{Header:P,Footer:O,SuccessAddedChildren:p}};const j=(0,h.Z)(V,[["render",l]]);var S=j,I=a(2201);const z={class:"form__container"};function W(e,r,a,t,o,l){const c=(0,n.up)("FormParent"),d=(0,n.up)("FormAddChildren");return(0,n.wg)(),(0,n.iD)("div",z,[(0,n.Wm)(c),(0,n.Wm)(d)])}const E={class:"row__title"},U=(0,n._)("h2",null,"Дети (макс. 5)",-1),Z=(0,n._)("b",null,"+",-1),q={class:"form__parent"},F={class:"input__item"},H=(0,n._)("label",{for:"input_name"},"Имя",-1),M={class:"error"},Y={class:"input__item"},B=(0,n._)("label",{for:"input_age"},"Возраст",-1),K={class:"error"},$=["onClick"];function G(e,r,a,t,o,l){const d=(0,n.up)("custom-button"),i=(0,n.up)("custom-input");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",E,[U,e.LocalChildrenArray.length<5?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"add__children",onClick:r[0]||(r[0]=r=>l.addNewChildrenClick(e.itemObject))},{default:(0,n.w5)((()=>[Z,(0,n.Uk)("Добавить ребенка")])),_:1})):(0,n.kq)("",!0)]),(0,n._)("form",q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.LocalChildrenArray,(r=>((0,n.wg)(),(0,n.iD)("div",{class:"input__row",key:r},[(0,n._)("div",null,[(0,n._)("div",F,[H,(0,n.Wm)(i,{type:"text",placeholder:"Ваше Имя","onUpdate:modelValue":e=>l.setName(e,r),modelValue:r.nameText,id:"input_name"},null,8,["onUpdate:modelValue","modelValue"])]),(0,n._)("p",M,(0,c.zw)(r.errorNameText),1)]),(0,n._)("div",null,[(0,n._)("div",Y,[B,(0,n.Wm)(i,{type:"number",id:"input_age",placeholder:"Ваш возраст","onUpdate:modelValue":e=>l.setAge(e,r),modelValue:r.ageText},null,8,["onUpdate:modelValue","modelValue"])]),(0,n._)("p",K,(0,c.zw)(r.errorAgeText),1)]),(0,n._)("p",{onClick:a=>e.deleteChildren(r)},"Удалить",8,$)])))),128)),(0,n.Wm)(d,{type:"button",class:"save__data",onClick:r[1]||(r[1]=()=>{l.clickButton()})},{default:(0,n.w5)((()=>[(0,n.Uk)("Сохранить")])),_:1})])],64)}var J={data(){return{}},methods:{clickAddStorage(){console.log("check"),this.setSuccessAddedData(!0),this.checkValidValue(),this.successAddedData&&(this.addToStorageChildren(),this.addToStorageParent())},clickButton(){!this.errorObject.errorLocalName&&!this.errorObject.errorLocalAge&&this.localName&&this.localAge?this.clickAddStorage():(console.log("check"),this.checkValidValue(),this.localName||this.setErrorLocalName("Поле не может быть пустым"),this.localAge||this.setErrorLocalAge("Поле не может быть пустым"))},setName(e,r){r.nameText=e;let a=r;this.setItemChildren(a)},setAge(e,r){r.ageText=e;let a=r;this.setItemChildren(a)},addNewChildrenClick(){this.addNewChildren({nameText:"",ageText:"",errorNameText:"",errorAgeText:""})},...(0,u.OI)({setItemChildren:"formChildren/setItemChildren",addNewChildren:"formChildren/addNewChildren",deleteChildren:"formChildren/deleteChildren",setErrorLocalName:"formParent/setErrorLocalName",setErrorLocalAge:"formParent/setErrorLocalAge",addToStorageChildren:"formChildren/addToStorage",addToStorageParent:"formParent/addToStorage",checkValidValue:"formChildren/checkValidValue",setSuccessAddedData:"formChildren/setSuccessAddedData"})},computed:{...(0,u.rn)({LocalChildrenArray:e=>e.formChildren.LocalChildrenArray,localName:e=>e.formParent.localName,localAge:e=>e.formParent.localAge,successAddedData:e=>e.formChildren.successAddedData,errorObject:e=>e.formParent.errorObject})}};const Q=(0,h.Z)(J,[["render",G]]);var R=Q;const X=e=>((0,n.dD)("data-v-5d190961"),e=e(),(0,n.Cn)(),e),ee=X((()=>(0,n._)("h2",null,"Персональные данные",-1))),re={action:"",class:"form__parent"},ae={class:"input__item"},te=X((()=>(0,n._)("label",{for:"input_name"},"Имя",-1))),ne={key:0,class:"error"},oe={class:"input__item"},le=X((()=>(0,n._)("label",{for:"input_name"},"Возраст",-1))),ce={key:1,class:"error"};function de(e,r,a,t,o,l){const d=(0,n.up)("custom-input");return(0,n.wg)(),(0,n.iD)(n.HY,null,[ee,(0,n._)("form",re,[(0,n._)("div",ae,[te,(0,n.Wm)(d,{type:"text",id:"input_name","onUpdate:modelValue":r[0]||(r[0]=e=>l.nameChange(e)),modelValue:e.localName,placeholder:"Ваше Имя"},null,8,["modelValue"])]),e.errorObject.errorLocalName?((0,n.wg)(),(0,n.iD)("p",ne,(0,c.zw)(e.errorObject.errorLocalName),1)):(0,n.kq)("",!0),(0,n._)("div",oe,[le,(0,n.Wm)(d,{type:"number",id:"input_name","onUpdate:modelValue":r[1]||(r[1]=e=>l.ageChange(e)),modelValue:e.localAge,placeholder:"Ваш возраст"},null,8,["modelValue"])]),e.errorObject.errorLocalAge?((0,n.wg)(),(0,n.iD)("p",ce,(0,c.zw)(e.errorObject.errorLocalAge),1)):(0,n.kq)("",!0)])],64)}var ie={data(){return{}},methods:{nameChange(e){this.setLocalNameParent(e)},ageChange(e){this.setLocalAgeParent(e)},...(0,u.OI)({setLocalNameParent:"formParent/setLocalNameParent",setLocalAgeParent:"formParent/setLocalAgeParent"})},computed:{...(0,u.rn)({localName:e=>e.formParent.localName,localAge:e=>e.formParent.localAge,errorObject:e=>e.formParent.errorObject})}};const se=(0,h.Z)(ie,[["render",de],["__scopeId","data-v-5d190961"]]);var ue=se,me={components:{FormAddChildren:R,FormParent:ue}};const he=(0,h.Z)(me,[["render",W],["__scopeId","data-v-761cd106"]]);var ge=he;const pe=e=>((0,n.dD)("data-v-974f47ae"),e=e(),(0,n.Cn)(),e),fe={class:"previewContainer"},_e=pe((()=>(0,n._)("h3",null,"Персональные данные",-1))),ve={key:0},Ae={key:1,class:"errors"},Ce={class:"children__preview"},we=pe((()=>(0,n._)("p",null,"Дети",-1))),be={key:0,class:"children__preview__list"},Pe={key:0},ke={key:1,class:"errors"},ye={key:1},Le={key:0,class:"errors"};function De(e,r,a,t,o,l){return(0,n.wg)(),(0,n.iD)("div",fe,[_e,e.nameParent&&e.ageParent?((0,n.wg)(),(0,n.iD)("b",ve,(0,c.zw)(e.nameParent)+", "+(0,c.zw)(l.declinationsAge),1)):(0,n.kq)("",!0),e.nameParent&&e.ageParent?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("b",Ae,"Заполните все поля!")),(0,n._)("div",Ce,[we,e.MainChildrenArray.length>0?((0,n.wg)(),(0,n.iD)("div",be,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.MainChildrenArray,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"children__preview__item",key:e},[e.nameText&&e.ageText?((0,n.wg)(),(0,n.iD)("b",Pe,(0,c.zw)(e.nameText)+", "+(0,c.zw)(e.ageText)+" лет",1)):(0,n.kq)("",!0),e.nameText&&e.ageText?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("p",ke,"Заполните все поля!"))])))),128))])):((0,n.wg)(),(0,n.iD)("div",ye,[e.nameParent&&e.ageParent?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("b",Le,"Вы не сохранили список детей!"))]))])])}var Te={methods:{declacate(e,r){let a=[2,0,1,1,1,2];return r[e%100>4&&e%100<20?2:a[e%10<5?e%10:5]]}},computed:{...(0,u.rn)({nameParent:e=>e.formParent.nameParent,ageParent:e=>e.formParent.ageParent,MainChildrenArray:e=>e.formChildren.MainChildrenArray}),declinationsAge(){const e=this.ageParent,r=this.declacate(e,[" год"," года"," лет"]),a=e+r;return a}}};const Ne=(0,h.Z)(Te,[["render",De],["__scopeId","data-v-974f47ae"]]);var xe=Ne;const Oe=[{path:"/test-zadanie/",name:"FormPage",component:ge},{path:"/test-zadanie/Preview",name:"Preview",component:xe}],Ve=(0,I.p7)({routes:Oe,history:(0,I.PO)()});var je=Ve;function Se(e,r,a,t,o,l){return(0,n.wg)(),(0,n.iD)("button",null,[(0,n.WI)(e.$slots,"default")])}var Ie={name:"custom-button"};const ze=(0,h.Z)(Ie,[["render",Se]]);var We=ze;const Ee=["value"];function Ue(e,r,a,t,o,l){return(0,n.wg)(),(0,n.iD)("input",{value:a.modelValue,onInput:r[0]||(r[0]=(...e)=>l.createInput&&l.createInput(...e))},null,40,Ee)}var Ze={name:"custom-input",props:{modelValue:[Number,String]},data(){return{}},methods:{createInput(e){this.$emit("update:modelValue",e.target.value)}}};const qe=(0,h.Z)(Ze,[["render",Ue]]);var Fe=qe,He=[We,Fe];a(7658);const Me={state:()=>({LocalChildrenArray:[],MainChildrenArray:[],successAddedData:!1}),getter:{},mutations:{setItemChildren(e,r){let a=e.LocalChildrenArray.findIndex((e=>e.id===r.id));-1!==a&&(e.LocalChildrenArray[a]=r)},addNewChildren(e,r){e.LocalChildrenArray.length<5&&e.LocalChildrenArray.push({id:Date.now(),...r})},addToStorage(e){e.MainChildrenArray=e.LocalChildrenArray},checkValidValue(e){let r=e.LocalChildrenArray.filter((e=>!e.nameText||!e.ageText||e.nameText.length<3||e.ageText.length>3));r.length>0?(console.log(r),e.successAddedData=!1,e.LocalChildrenArray.forEach((e=>{e.nameText||(e.errorNameText="Заполните поля"),e.ageText||(e.errorAgeText="Заполните поля"),e.nameText.length<3&&(e.errorNameText="Слишком короткое имя"),e.ageText.length>3&&(e.errorAgeText="Неправильный возвраст")}))):e.LocalChildrenArray.forEach((e=>{e.nameText&&(e.errorNameText=""),e.ageText&&(e.errorNameText="")}))},deleteChildren(e,r){e.LocalChildrenArray=e.LocalChildrenArray.filter((e=>e.id!==r.id))},setSuccessAddedData(e,r){e.successAddedData=r}},actions:{},namespaced:!0},Ye={state:()=>({nameParent:"",ageParent:"",localName:"",localAge:"",errorObject:{errorLocalName:"",errorLocalAge:""}}),getter:{},mutations:{setLocalNameParent(e,r){e.localName=r,r.length<4?e.errorObject.errorLocalName="Имя слишком короткое":e.errorObject.errorLocalName=""},setLocalAgeParent(e,r){e.localAge=r,r.length>2?e.errorObject.errorLocalAge="Некорректный возвраст":Number(e.localAge)<=18?e.errorObject.errorLocalAge="Возвраст не корректный":e.errorObject.errorLocalAge=""},addToStorage(e){e.nameParent=e.localName,e.ageParent=e.localAge},setErrorLocalAge(e,r){e.errorObject.errorLocalAge=r},setErrorLocalName(e,r){e.errorObject.errorLocalName=r}},actions:{},namespaced:!0};var Be=(0,u.MT)({modules:{formChildren:Me,formParent:Ye}});const Ke=(0,t.ri)(S);He.forEach((e=>{Ke.component(e.name,e)})),Ke.use(je).use(Be).mount("#app")}},r={};function a(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={exports:{}};return e[t].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(r,t,n,o){if(!t){var l=1/0;for(s=0;s<e.length;s++){t=e[s][0],n=e[s][1],o=e[s][2];for(var c=!0,d=0;d<t.length;d++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](t[d])}))?t.splice(d--,1):(c=!1,o<l&&(l=o));if(c){e.splice(s--,1);var i=n();void 0!==i&&(r=i)}}return r}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,n,o]}}(),function(){a.d=function(e,r){for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){a.p="/test-zadanie/"}(),function(){var e={143:0};a.O.j=function(r){return 0===e[r]};var r=function(r,t){var n,o,l=t[0],c=t[1],d=t[2],i=0;if(l.some((function(r){return 0!==e[r]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(d)var s=d(a)}for(r&&r(t);i<l.length;i++)o=l[i],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},t=self["webpackChunktest_zadanie_1"]=self["webpackChunktest_zadanie_1"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(7698)}));t=a.O(t)})();
//# sourceMappingURL=app.250009d1.js.map